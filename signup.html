<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>CodePen - Bootstrap Snippet: Login Form</title>
    <link
      rel="stylesheet"
      href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="./styles/login.css" />
  </head>
  <body>
    <!-- partial:index.partial.html -->
    <div class="wrapper">
      <!-- <form class="form-signin"> -->
      <h2 class="form-signin-heading">Sign-up</h2>
      <input
        type="text"
        id="username"
        class="form-control"
        name="username"
        placeholder="User name"
        required=""
        autofocus=""
      />
      <input
        id="password"
        type="password"
        class="form-control"
        name="password"
        placeholder="Password"
        required=""
      />
      <!-- <label class="checkbox">
        <input
          type="checkbox"
          value="remember-me"
          id="rememberMe"
          name="rememberMe"
        />
        Remember me
      </label> -->
      Already a user? <a href="./login.html"> Login</a>
      <h3 id="warning" style="color: red"></h3>
      <button
        class="btn btn-lg btn-primary btn-block"
        type=""
        onclick="dashboard()"
      >
        Signup
      </button>
      <!-- </form> -->
    </div>
    <script>
      userName = "";
      function dashboard() {
        console.log("In dashboard");
        console.log(document.getElementById("username").value);
        console.log(document.getElementById("password").value);
        userName = document.getElementById("password").value;
        addNewUserName(
          document.getElementById("username").value,
          document.getElementById("password").value
        );
      }
      function addNewUserName(username, password) {
        if (localStorage.getItem(username)) {
          document.getElementById("warning").innerHTML =
            "Username already taken please try another username";
        } else {
          ob = {
            name: username,
            password: password,
            codes: [],
          };
          localStorage.setItem(username, JSON.stringify(ob));
          localStorage.setItem("userName", username);
          window.location.href = "/dashboard.html";
        }
      }
    </script>
    <!-- partial -->
  </body>
</html>
